<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
    <script>
        let i = 2;
    window.onload = function(){
    document.getElementById('add-new-person').onclick = function () {
    let template = `
        <h3>Department ${i}:</h3>
        <p>
            <label>Name</label><br>
            <input name="Department[${i}][name]">
        </p>
`;

    let container = document.getElementById('people-container');
    let div = document.createElement('div');
    div.innerHTML = template;
    container.appendChild(div);
    i++;

    document.getElementById('hidden').value = i
}
    }
    </script>
</head>
<body>
    <div>
        {% if user.is_authenticated %}
            <li><a href="{% url 'logout' %}">Logout</a></li>
            <li><a href="{% url 'delete' %}">Delete</a></li>
            <li><a href="{% url 'update' %}">Update</a></li>
        <h1>Add the departments</h1>
        <form method="post" action=''>
            {% csrf_token %}
            <div id='people-container' class='people-container'>
                <h3>Department 1:</h3>
                <p><label>Name</label><br><input name="Department[1][name]"> </p>
            </div>

            <a href="javascript:;" id="add-new-person" class="add-new-person">Add new department</a>
            <input type='hidden' id='hidden' value=2 name='srajan1'>
            <p><input type="submit" value="Save"></p>
        </form>
    </div>

    {% else %}
    <li><a class="navbar-link" href="{% url 'login' %}">Login</a></li>
{% endif %}
</body>
</html>